# <div align=center> Bitmap using Canvas </div>

## What is bitmap ?

A bitmap is an object , which is an instance of the `Bitmap` Class. This class represents a 2d coordinate system . The coordinate system move to the right on the x axis , and to the bottom on the y axis .

Each point in the coordinate system is called a pixel . A pixel is formed of bits , and bits represent the color of this pixel. A pixel can be formed of 8 , or 16 or 24 bits ... The x axis represents the width , and the y axis represent the height .

<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/08/what-is-a-raster-image.png" ></div>

Everything that is drawn in android is a `Bitmap`. We can create a `Bitmap` instance , either by using the `Bitmap `class which has methods that allow us to manipulate pixels in the 2d coordinate system , or we can can create a `Bitmap `from an image or a file or a resource by using the `BitmapFactory` class

What is canvas ?
----------------

A canvas is an object which is an instance of the class `Canvas` . A canvas is used to draw on a bitmap , it has methods to draw shapes on a bitmap . Such as drawing a text , a line , a rectangle or a circle .. We can style the shapes created by the canvas by using a paint object .

What is paint ?
---------------

A paint object is an instance of the `Paint` class . it is used to style a shape drawn by a canvas . We can set the stroke , the fill color .. of the drawn shape using the paint object.

Create a bitmap by using Bitmap class
-------------------------------------

The `Bitmap` class has many methods that allow us to create an instance of a `Bitmap` by using java . These methods will allow us to set the width , height , density , and number of pixels of a `Bitmap` .

### Bitmap.createBitmap(int width, int height, Bitmap.Config config)

This method will take as parameters the width and height of the bitmap in pixels. It also takes the configuration for this Bitmap. The configuration specify the number of bits that each pixel in the bitmap will have. For example , we can specify that a pixel will take 32 bits (ARGB_8888) , as such each red , green , blue color will take 8 bits , and the alpha channel will take 8 bits .

```kotlin
package com.twiserandom.bitmap_canvas_paint;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.LinearLayout;

public class BitmapCanvasPaintActivity extends AppCompatActivity {

    BCPIView bcpiView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);

        /*
            BCPIView ,  is an imageView that contains a bitmap created programmatically
         */
        bcpiView = new BCPIView(this);
        /*
          set bcpiView width and height to match parent
         */
        ll.addView(bcpiView , new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT , ViewGroup.LayoutParams.MATCH_PARENT));

        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);
    }

    // Bitmap Canvas Paint Image View
    class BCPIView extends android.support.v7.widget.AppCompatImageView {

        Paint paint ;
        Canvas canvas;

        public BCPIView(Context context) {
            super(context);

            /* create the paint object*/
            paint = new Paint();
        }

        @Override
        protected void onDraw(Canvas canvas) {
            super.onDraw(canvas);

            /*
            Create a bitmap
                width is equal to the imageView width
                height is equal to the imageView Height

                each pixel is formed of 4 bytes
                    each color will have 8 bits
                    alpha channel will have 8 bits
            */
            Bitmap bitmap =  Bitmap.createBitmap(getWidth() , getHeight() , Bitmap.Config.ARGB_8888);
            //set the background color of the bitmap to RED
            bitmap.eraseColor(Color.RED);
            //associate the canvas created with this bitmap
            canvas = new Canvas(bitmap);
            //set the color of the paint object to GREEN
            paint.setColor(Color.GREEN);
            // draw a rectangle inside the bitmap
            // it is positioned from left top 20
            // to the width , height - 20
            canvas.drawRect(20.0f , 20.0f,getWidth() - 20.0f , getHeight() -20.0f , paint);

            //set the bitmap as the imageView drawable
            setImageBitmap(bitmap);

        }
    }
}
```

<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/08/createbitmapwidthheightconfig.png"></div>

```kotlin
package com.twiserandom.bitmap_canvas_paint;


import android.graphics.Bitmap;
import android.support.annotation.ColorInt;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;

public class BitmapCanvasPaintActivity extends AppCompatActivity {

    /*Create a 32 bit int color*/
    @ColorInt
    public static final int COLOR_PALEGOLDENROD = 0xFFEEE8AA;

    ImageView iv;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);

        /*create an imageView*/
        iv = new ImageView(this);
        /*Set the layoutparam of the imageView
         *   width : match parent
         *   height: match parent
         */
        ll.addView(iv, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));

        /*
            create bitmap with 900px width , and height of 900px
         */
        Bitmap bm = Bitmap.createBitmap(900, 900, Bitmap.Config.ARGB_8888);
        bm.eraseColor(COLOR_PALEGOLDENROD);

        /*set the imageview bitmap*/
        iv.setImageBitmap(bm);
        /*The bitmap is centered inside the imageView
         * No scaling is performed
         * */
        iv.setScaleType(ImageView.ScaleType.CENTER);


        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);
    }


}
```

<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/08/bitmap-width-height.png"></div>

### Bitmap.createBitmap(Bitmap src)

we can use this method to get a copy of a `Bitmap` that is already created .

-   If the source `Bitmap` is immutable return the source `Bitmap`
-   if it is mutable , create a copy of the src `Bitmap` , and return it `.`

```kotlin
package com.twiserandom.bitmap_canvas_paint;


import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.support.annotation.ColorInt;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;

public class BitmapCanvasPaintActivity extends AppCompatActivity {

    /*Create a 32 bit int color*/
    @ColorInt
    public static final int COLOR_FUCHSIA = 0xFFFF00FF;

    ImageView ivOne , ivTwo;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);

        /*create two imageViews*/
        ivOne = new ImageView(this);
        ivTwo = new ImageView(this);

        /*Set the layoutparam of the imageViews
         *   width : match parent
         *   height: wrap content
         *  weight : 1
         */
        ll.addView(ivOne, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
        ll.addView(ivTwo, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));

        /*
            create bitmap with 200px width , and height of 100px
         */
        Bitmap bm = Bitmap.createBitmap(200, 100, Bitmap.Config.ARGB_8888);
        /*create a canvas object*/
        Canvas cv = new Canvas(bm);
        /*create a paint object*/
        Paint paint = new Paint();
        paint.setColor(COLOR_FUCHSIA);
        /* Draw a rectangle on the bitmap*/
        cv.drawRect(0,0,200,100,paint);


        Bitmap bmSrc= Bitmap.createBitmap(bm);


        /*
            set scale type of the imageViews to center
               No scaling is performed on the bitmap
               bitmap is just centered
         */
        ivOne.setScaleType(ImageView.ScaleType.CENTER);
        ivTwo.setScaleType(ImageView.ScaleType.CENTER);

        /*
            set the bitmaps on the image views
         */
        ivOne.setImageBitmap(bm);
        ivTwo.setImageBitmap(bmSrc);

        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);
    }


}
```

<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/09/bitmap.createbitmap.src_.png" ></div>

### Bitmap.createBitmap(Bitmap source, int x, int y, int width, int height)

This method allow us to create a copy of a `Bitmap` .

-   x,y are the coordinate of the first pixel in the source
-   width is the number of pixel in the source, must be less or equal to sourceWidth-x
-   height is the number of row in the source, must be less than sourceHeight-y

if x,y is 0 , 0 , and width and height equals the source bitmap width and height , and the source bitmap is immutable , return the source bitmap itself , else , return a copy of the source bitmap (x,y) , with the given width and height .

```kotlin
package com.twiserandom.bitmap_canvas_paint;


import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.support.annotation.ColorInt;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;

public class BitmapCanvasPaintActivity extends AppCompatActivity {

    /*Create a 32 bit int color*/
    @ColorInt
    public static final int COLOR_FUCHSIA = 0xFFFF00FF;

    ImageView ivOne , ivTwo;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);

        /*create two imageViews*/
        ivOne = new ImageView(this);
        ivTwo = new ImageView(this);

        /*Set the layoutparam of the imageViews
         *   width : match parent
         *   height: wrap content
         *  weight : 1
         */
        ll.addView(ivOne, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
        ll.addView(ivTwo, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));

        /*
            create bitmap with 200px width , and height of 100px
         */
        Bitmap bm = Bitmap.createBitmap(200, 100, Bitmap.Config.ARGB_8888);
        /*create a canvas object*/
        Canvas cv = new Canvas(bm);
        /*create a paint object*/
        Paint paint = new Paint();
        paint.setColor(COLOR_FUCHSIA);
        /* Draw a rectangle on the bitmap*/
        cv.drawRect(0,0,200,100,paint);

        /*
        crete a copy of the bitmap
            from x,y
            with width and height

        * */
        Bitmap bm_Src_X_Y_W_H= Bitmap.createBitmap(bm,30,40,100,50);
        bm_Src_X_Y_W_H.eraseColor(0xFF123456);

        /*
            set scale type of the imageViews to center
               No scaling is performed on the bitmap
               bitmap is just centered
         */
        ivOne.setScaleType(ImageView.ScaleType.CENTER);
        ivTwo.setScaleType(ImageView.ScaleType.CENTER);

        /*
            set the bitmaps on the image views
         */
        ivOne.setImageBitmap(bm);
        ivTwo.setImageBitmap(bm_Src_X_Y_W_H);

        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);
    }


}
```

<div align=senter><img src="https://twiserandom.com/wp-content/uploads/2019/09/createBimap_src_x_y_w_h.png"></div>

### Bitmap.createBitmap(Bitmap source, int x, int y, int width, int height,Matrix m, boolean filter)

create a new Bitmap , from a source bitmap .

-   x,y are the coordinate of the first pixel in the source
-   width is the number of pixel in the source, must be less or equal to sourceWidth-x
-   height is the number o row in the source, must be less or equal to sourceHeight-y
-   m , is the transformation matrix . It contains, the operations that we can perform on a bitmap :
    -   translation : will translate a bitmap from old origin (0,0) , to new origin . This doesn't work while creating a bitmap from another bitmap
    -   scaling
    -   skewing
    -   rotation
    -   if we want to perform just one operation , we can create a new matrix , and use the set methods, like setScale , setSkew ..
    -   if we want to perform multiple operations , we can create a new matrix , and use the pre and post methods . pre means the operation will be performed first , post means the operation will be performed after.
-   filter , if set to true , will use sampling on the image, usually this will make the quality of the image better , and smoother .

If the source x,y is 0,0 , and if the width and height is equal to the source width and height , and if the transformation matrix is the identity matrix , so if there is no transformation done , and if the source is immutable return the bitmap itself. Else , create a copy of the bitmap from the source (x,y), with the given width and height ,and transformation and filtering applied .

#### Translate

the translate methods

```
setTranslate
preTranslate
postTranslate

```
doesn’t work when create a bitmap from another one .

```kotlin
package com.twiserandom.bitmap_canvas_paint;


import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.support.annotation.ColorInt;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;

public class BitmapCanvasPaintActivity extends AppCompatActivity {


    ImageView ivOne , ivTwo;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);

        /*create two imageViews*/
        ivOne = new ImageView(this);
        ivTwo = new ImageView(this);

        /*Set the layoutparam of the imageViews
         *   width : match parent
         *   height: wrap content
         *  weight : 1
         */
        ll.addView(ivOne, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
        ll.addView(ivTwo, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));

        /*
            create bitmap with 700px width , and height of 200px
            set its color to greenish
         */
        Bitmap bm = Bitmap.createBitmap(700, 200, Bitmap.Config.ARGB_8888);
        bm.eraseColor(0xFF276153);


        /*create a canvas object*/
        Canvas cv = new Canvas(bm);
        /*create a paint object*/
        Paint paint = new Paint();

        // draw a rectangle
        paint.setColor(0xFFFF00FF);
        cv.drawRect(0,0,200,100,paint);

        //draw a second rectangle
        paint.setColor(0xFF654321);
        cv.drawRect(50,50,250,150,paint);

        //draw a third rectangle
        paint.setColor(0xFF231645);
        cv.drawRect(30,30,230,130,paint);




        /*
        create a copy of the bitmap
            x:0 , y : 0
            width : 700
            height: 200
            setTranslate : 100 , 100
        * */
        Matrix m = new Matrix();
        m.setTranslate(100,100);
        Bitmap bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 700,200,m, true);


        /*
            set scale type of the imageViews to center
               No scaling is performed on the bitmap
               bitmap is just centered
         */
        ivOne.setScaleType(ImageView.ScaleType.CENTER);
        ivTwo.setScaleType(ImageView.ScaleType.CENTER);

        /*
            set the bitmaps on the image views
         */
        ivOne.setImageBitmap(bm);
        ivTwo.setImageBitmap(bm_Src_X_Y_W_H_M_F);

        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);

    }


}
```

<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/09/settranslate-createbitmap.png"></div>

`Rotate`

the rotate methods ,

```
setRotate(float degrees)
preRotate(float degrees)
postRotate(float degrees)
```
will rotate all pixels inside a bitmap clockwise by a given angle . The angle is specified in degree , and the point of rotation is the upper left corner which has a coordinate of (0,0) . The formula for rotation is

x' = x•cos(α) – y•sin(α)
y' = x•sin(α) + y•cos(α)

```kotlin
package com.twiserandom.bitmap_canvas_paint;
 
 
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.support.annotation.ColorInt;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;
 
public class BitmapCanvasPaintActivity extends AppCompatActivity {
 
 
    ImageView ivOne , ivTwo;
 
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);
 
        /*create two imageViews*/
        ivOne = new ImageView(this);
        ivTwo = new ImageView(this);
 
        /*Set the layoutparam of the imageViews
         *   width : match parent
         *   height: wrap content
         *  weight : 1
         */
        ll.addView(ivOne, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
        ll.addView(ivTwo, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
 
        /*
            create bitmap with 700px width , and height of 200px
            set its color to greenish
         */
        Bitmap bm = Bitmap.createBitmap(700, 200, Bitmap.Config.ARGB_8888);
        bm.eraseColor(0xFF276153);
 
 
     
        /*create a canvas object*/
        Canvas cv = new Canvas(bm);
        /*create a paint object*/
        Paint paint = new Paint();
 
        // draw a rectangle
        paint.setColor(0xFFFF00FF);
        cv.drawRect(0,0,200,100,paint);
 
        //draw a second rectangle
        paint.setColor(0xFF654321);
        cv.drawRect(50,50,250,150,paint);
 
        //draw a third rectangle
        paint.setColor(0xFF231645);
        cv.drawRect(30,30,230,130,paint);
 
 
        /*
        create a copy of the bitmap
            x:0 , y : 0
            width : 700
            height: 200
            setRotate : 22
        * */
        Matrix m = new Matrix();
        m.setRotate(22);
        Bitmap bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 700,200,m, true);
 
 
        /*
            set scale type of the imageViews to center
               No scaling is performed on the bitmap
               bitmap is just centered
         */
        ivOne.setScaleType(ImageView.ScaleType.CENTER);
        ivTwo.setScaleType(ImageView.ScaleType.CENTER);
 
        /*
            set the bitmaps on the image views
         */
        ivOne.setImageBitmap(bm);
        ivTwo.setImageBitmap(bm_Src_X_Y_W_H_M_F);
 
        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);
 
    }
 
 
}
```

<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/09/setrotate-createbitmap.png" ></div>

#### scale

we can use the scale methods

```
setScale(float sx , float sy)
preScale(float sx, float sy)
postScale(float sx , float sy)
```
in order to scale the coordinate of an image up or down. The scaling is performed from the upper left corn which has a coordinate (0,0). When scaling up , we are creating new pixels , the new pixels are created by using linear interpolation . When scaling down we are removing pixels using sampling . We can set set the filter option to true in both cases , to create smoother images . If the x and y scale factor are equal , the scaled image will keep its aspect ration . The formula for the scaled pixels is

x' = sx · x
y' = sy · y
```
package com.twiserandom.bitmap_canvas_paint;


import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.support.annotation.ColorInt;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;

public class BitmapCanvasPaintActivity extends AppCompatActivity {


    ImageView ivOne , ivTwo;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);

        /*create two imageViews*/
        ivOne = new ImageView(this);
        ivTwo = new ImageView(this);

        /*Set the layoutparam of the imageViews
         *   width : match parent
         *   height: wrap content
         *  weight : 1
         */
        ll.addView(ivOne, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
        ll.addView(ivTwo, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));

        /*
            create bitmap with 700px width , and height of 200px
            set its color to greenish
         */
        Bitmap bm = Bitmap.createBitmap(700, 200, Bitmap.Config.ARGB_8888);
        bm.eraseColor(0xFF276153);

        
        /*create a canvas object*/
        Canvas cv = new Canvas(bm);
        /*create a paint object*/
        Paint paint = new Paint();

        // draw a rectangle
        paint.setColor(0xFFFF00FF);
        cv.drawRect(0,0,200,100,paint);

        //draw a second rectangle
        paint.setColor(0xFF654321);
        cv.drawRect(50,50,250,150,paint);

        //draw a third rectangle
        paint.setColor(0xFF231645);
        cv.drawRect(30,30,230,130,paint);




        /*
        crete a copy of the bitmap
            x:0 , y : 0
            width : 700
            height: 200
            setScale : 2
        * */
        Matrix m = new Matrix();
        m.setScale(2,2);
        Bitmap bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 700,200,m, true);


        /*
            set scale type of the imageViews to center
               No scaling is performed on the bitmap
               bitmap is just centered
         */
        ivOne.setScaleType(ImageView.ScaleType.CENTER);
        ivTwo.setScaleType(ImageView.ScaleType.CENTER);

        /*
            set the bitmaps on the image views
         */
        ivOne.setImageBitmap(bm);
        ivTwo.setImageBitmap(bm_Src_X_Y_W_H_M_F);

        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);

    }


}
```

<div align=center><img arc="https://twiserandom.com/wp-content/uploads/2019/09/setscale.png"></div>

#### skew

skewing will skew all pixels using the following formula

x' = x + sx * y
y' = sy * x + y

A pixel has an (x ; y) coordinate , the new coordinate of the pixel are calculated using the formula (x + sx * y ; sy * x + y) . So x is moved from the y axis by a distance , and y is moved from the x axis by a distance .

The skew methods that we can use are
```
setSkew(float sx , float sy) 
preSkew(float sx, float sy) 
postSkew(float sx , float sy)
```
```kotlin
package com.twiserandom.bitmap_canvas_paint;
 
 
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.support.annotation.ColorInt;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;
 
public class BitmapCanvasPaintActivity extends AppCompatActivity {
 
 
    ImageView ivOne , ivTwo , ivThree ,ivFour ,ivFive,ivSix;
    Bitmap bm_Src_X_Y_W_H_M_F;
 
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);
 
        /*create two imageViews*/
        ivOne = new ImageView(this);
        ivTwo = new ImageView(this);
        ivThree = new ImageView(this);
        ivFour = new ImageView(this);
        ivFive = new ImageView(this);
        ivSix = new ImageView(this);
 
        /*Set the layoutparam of the imageViews
         *   width : match parent
         *   height: wrap content
         *  weight : 1
         */
        ll.addView(ivOne, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
        ll.addView(ivTwo, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT , 1));
        ll.addView(ivThree, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT, 1));
        ll.addView(ivFour, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT, 1));
        ll.addView(ivFive, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT, 1));
        ll.addView(ivSix, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT, 1));
 
        /*
            create bitmap with 300px width , and height of 100px
            set its color to greenish
         */
        Bitmap bm = Bitmap.createBitmap(300, 100, Bitmap.Config.ARGB_8888);
        bm.eraseColor(0xFF276153);
 
 
        /*create a canvas object*/
        Canvas cv = new Canvas(bm);
        /*create a paint object*/
        Paint paint = new Paint();
 
 
        // draw a rectangle
        paint.setColor(0xFFFF00FF);
        cv.drawRect(0,0,50,100,paint);
 
        //draw a circle
        paint.setColor(0xFFFa00AF);
        cv.drawCircle(110,50,50 , paint);
 
        //draw a
        paint.setColor(0xFFFF0012);
        paint.setTextSize(80);
        cv.drawText("FF",170,70, paint);
 
 
        /*
            set scale type of the imageViews to center
               No scaling is performed on the bitmap
               bitmap is just centered
         */
        ivOne.setScaleType(ImageView.ScaleType.CENTER);
        ivTwo.setScaleType(ImageView.ScaleType.CENTER);
        ivThree.setScaleType(ImageView.ScaleType.CENTER);
        ivFour.setScaleType(ImageView.ScaleType.CENTER);
        ivFive.setScaleType(ImageView.ScaleType.CENTER);
        ivSix.setScaleType(ImageView.ScaleType.CENTER);
 
        /*
         set imaveView one bitmap
         */
        ivOne.setImageBitmap(bm);
 
        /*
        create a transformation matrix
         */
        Matrix m = new Matrix();
        /* set the skew factor on the x axis by 0.75*/
        m.setSkew(0.75f,0);
        // create a bitmap from the bm bimtap with the specified transformation matrix
        bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 300,100,m, true);
        // set the bitmap  as a bitmap for the ivTwo
         ivTwo.setImageBitmap(bm_Src_X_Y_W_H_M_F);
 
         /*reset the transformation matrix*/
        m.reset();
        /* set the skew factor on the x axis by -0.75*/
        m.setSkew(-0.75f,0);
        // create a bitmap from the bm bimtap with the specified transformation matrix
        bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 300,100,m, true);
        // set the bitmap  as a bitmap for the ivThree
        ivThree.setImageBitmap(bm_Src_X_Y_W_H_M_F);
 
        /*reset the transformation matrix*/
        m.reset();
        /* set the skew factor on the y axis by 0.25*/
        m.setSkew(0f,0.25f);
        // create a bitmap from the bm bimtap with the specified transformation matrix
        bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 300,100,m, true);
        // set the bitmap  as a bitmap for the ivFour
        ivFour.setImageBitmap(bm_Src_X_Y_W_H_M_F);
 
        /*reset the transformation matrix*/
        m.reset();
        /* set the skew factor on the y axis by -0.25*/
        m.setSkew(0f,-0.25f);
        // create a bitmap from the bm bimtap with the specified transformation matrix
        bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 300,100,m, true);
        // set the bitmap  as a bitmap for the ivFive
        ivFive.setImageBitmap(bm_Src_X_Y_W_H_M_F);
 
 
        /*reset the transformation matrix*/
        m.reset();
        /* set the skew factor on the y axis by 0.25 0.25*/
        m.setSkew(0.25f,0.25f);
        // create a bitmap from the bm bimtap with the specified transformation matrix
        bm_Src_X_Y_W_H_M_F = Bitmap.createBitmap(bm , 0,0, 300,100,m, true);
        // set the bitmap  as a bitmap for the ivSix
        ivSix.setImageBitmap(bm_Src_X_Y_W_H_M_F);
 
 
 
 
        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);
 
    }
}
```

<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/09/skew.kx_.ky_.png"</div>
  
### create a density independent bitmap

When we are creating a bitmap with the previous methods , we are specifying the width and height in pixel . Different screens have different densities , as such the width and height specified in pixel , will look different on different screens . we can create a bitmap by using density independent pixel , like this the bitmap will look similar on screens with different densities .
  
```kotlin
  package com.twiserandom.bitmap_canvas_paint;


import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Paint;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.DisplayMetrics;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.LinearLayout;

public class BitmapCanvasPaintActivity extends AppCompatActivity {


    ImageView ivOne , ivTwo  ;
    Canvas cv;
    Paint paint;
    Bitmap bm;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        /*
            create a linear layout with vertical orientation
         */
        LinearLayout ll = new LinearLayout(this);
        ll.setOrientation(LinearLayout.VERTICAL);

        /*create two imageViews*/
        ivOne = new ImageView(this);
        ivTwo = new ImageView(this);

        /*
            set scale type of the imageViews to center
               No scaling is performed on the bitmap
               bitmap is just centered
         */
        ivOne.setScaleType(ImageView.ScaleType.CENTER);
        ivTwo.setScaleType(ImageView.ScaleType.CENTER);



        /*Set the layoutparam of the imageViews
         *   width : match parent
         *   height: wrap content
         *   weight : 1
         */
        ll.addView(ivOne, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT  , 1));
        ll.addView(ivTwo, new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT  , 1));

        /*
            create bitmap with 200px width , and height of 200px
            set its color to greenish
         */

        bm = Bitmap.createBitmap((int)(200 ), (int)(200 ), Bitmap.Config.ARGB_8888);
        bm.eraseColor(0xFF276153);
        ivOne.setImageBitmap(bm);

        /*
        create a bitmap with 200dpi height , and 200dpi height
        set it s color to greenish
        * */
        DisplayMetrics dm = getResources().getDisplayMetrics();
        float density = dm.density;
        bm = Bitmap.createBitmap((int)(200 * density), (int)(200 * density), Bitmap.Config.ARGB_8888);
        bm.eraseColor(0xFF276153);
        ivTwo.setImageBitmap(bm);




        /*
            set the activity content view
            to ll : linearlayout
            it will take the full width and height by default
        */
        setContentView(ll);

    }


}
```
  
<div align=center><img src="https://twiserandom.com/wp-content/uploads/2019/09/bitmap_dpi.png"></div>
  

  

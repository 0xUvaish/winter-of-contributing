## Android SearchView on ToolBar

    using the SearchView widget as an item in the app bar is the preferred way to provide search in your app. Like with all items in the app bar, you can define the SearchView to show at all times, only when there is room, or as a collapsible action, which displays the SearchView as an icon initially, then takes up the entire app bar as a search field when the user clicks the icon.

Create an activity_main.xml file in layout folder containing ListView.

## XML
<img src="https://user-images.githubusercontent.com/78701779/134665601-f76558ef-b719-453d-82e0-c767f8831a50.png">

# menu.xml
Create a menu.xml file in menu folder and place the following code. This code places the SearchView widget over ToolBar.

File: menu.xml

    <?xml version="1.0" encoding="utf-8"?>  
    <menu xmlns:app="http://schemas.android.com/apk/res-auto"  
    xmlns:android="http://schemas.android.com/apk/res/android">  

    <item  
        android:id="@+id/app_bar_search"  
        android:icon="@drawable/ic_search_black_24dp"  
        android:title="Search"  
        app:showAsAction="ifRoom|withText"  
        app:actionViewClass="android.widget.SearchView"/>  
    </menu>  


# Activity class

File: MainActivity.java

    package searchview.toolbar.com.searchviewtoolbar;  

    import android.support.v4.view.MenuItemCompat;  
    import android.support.v7.app.AppCompatActivity;  
    import android.os.Bundle;  
    import android.view.Menu;  
    import android.view.MenuInflater;  
    import android.view.MenuItem;  
    import android.widget.ArrayAdapter;  
    import android.widget.ListView;  
    import android.widget.SearchView;  
    import android.widget.Toast;  

    import java.util.ArrayList;  

    public class MainActivity extends AppCompatActivity {  

        ListView listView;  
        ArrayList<String> list;  
        ArrayAdapter<String > adapter;  
        @Override  
        protected void onCreate(Bundle savedInstanceState) {  
            super.onCreate(savedInstanceState);  
            setContentView(R.layout.activity_main);  

            listView = (ListView) findViewById(R.id.listView);  

            list = new ArrayList<>();  
            list.add("Apple");  
            list.add("Banana");  
            list.add("Pineapple");  
            list.add("Orange");  
            list.add("Lychee");  
            list.add("Gavava");  
            list.add("Peech");  
            list.add("Melon");  
            list.add("Watermelon");  
            list.add("Papaya");  

            adapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1,list);  
            listView.setAdapter(adapter);  
        }  

        @Override  
        public boolean onCreateOptionsMenu(Menu menu) {  
            MenuInflater inflater = getMenuInflater();  
            inflater.inflate(R.menu.menu, menu);  
            MenuItem searchViewItem = menu.findItem(R.id.app_bar_search);  
            final SearchView searchView = (SearchView) MenuItemCompat.getActionView(searchViewItem);  
            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {  
                @Override  
                public boolean onQueryTextSubmit(String query) {  
                    searchView.clearFocus();  
                 /*   if(list.contains(query)){ 
                        adapter.getFilter().filter(query); 
                    }else{ 
                        Toast.makeText(MainActivity.this, "No Match found",Toast.LENGTH_LONG).show(); 
                    }*/  
                    return false;  

                }  

                @Override  
                public boolean onQueryTextChange(String newText) {  
                    adapter.getFilter().filter(newText);  
                    return false;  
                }  
            });  
            return super.onCreateOptionsMenu(menu);  
        }  
    }  
## Output:

[![searchview-on-toolbar2.png](https://i.postimg.cc/wBsjvPK7/searchview-on-toolbar2.png)](https://postimg.cc/yJsHpL8H)

[![searchview-on-toolbar3.png](https://i.postimg.cc/QtQNgTdD/searchview-on-toolbar3.png)](https://postimg.cc/2b5fr3W9)

[![searchview-on-toolbar4.png](https://i.postimg.cc/50dNF31p/searchview-on-toolbar4.png)](https://postimg.cc/GBK1Wv4s)


# Resources:

[Android SearchView on ToolBar](https://www.javatpoint.com/android-searchview-on-toolbar)

